<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Pepper: org.corpus_tools.pepper.connectors.impl.MavenAccessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pepper.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pepper
   &#160;<span id="projectnumber">3.1.1-SNAPSHOT</span>
   </div>
   <div id="projectbrief">A highly extensible plattform for conversion and manipulationoflinguisticdata.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.corpus_tools.pepper.connectors.impl.MavenAccessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>How does this class work? One elementary part is the dependency blacklist.  
 <a href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a81164b51db598b747b311dbe9d1e13a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81164b51db598b747b311dbe9d1e13a7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MavenAccessor</b> (<a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_pepper_o_s_gi_connector.html">PepperOSGiConnector</a> pepperOSGiConnector)</td></tr>
<tr class="separator:a81164b51db598b747b311dbe9d1e13a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37bb8b60cab99794571e745a23e7dba4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37bb8b60cab99794571e745a23e7dba4"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a37bb8b60cab99794571e745a23e7dba4">update</a> (String groupId, String artifactId, String repositoryUrl, boolean isSnapshot, boolean ignoreFrameworkVersion, Bundle installedBundle)</td></tr>
<tr class="memdesc:a37bb8b60cab99794571e745a23e7dba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks the provided pepper plugin for updates and triggers the installation process if a newer version is available. <br /></td></tr>
<tr class="separator:a37bb8b60cab99794571e745a23e7dba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e296bba56a4bc8fe7dd1ff1f6600b1"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#aa9e296bba56a4bc8fe7dd1ff1f6600b1">getBlacklist</a> ()</td></tr>
<tr class="separator:aa9e296bba56a4bc8fe7dd1ff1f6600b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb131946c7f58c302ac17d727caca45a"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#aeb131946c7f58c302ac17d727caca45a">printDependencies</a> (String groupId, String artifactId, String version, String repositoryUrl)</td></tr>
<tr class="memdesc:aeb131946c7f58c302ac17d727caca45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method starts invokes the computation of the dependency tree.  <a href="#aeb131946c7f58c302ac17d727caca45a">More...</a><br /></td></tr>
<tr class="separator:aeb131946c7f58c302ac17d727caca45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5699419fd94fe24a39af1d39fa241a20"><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a5699419fd94fe24a39af1d39fa241a20">ARTIFACT_ID_PEPPER_FRAMEWORK</a> = &quot;pepper-framework&quot;</td></tr>
<tr class="memdesc:a5699419fd94fe24a39af1d39fa241a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">this String contains the artifactId of pepper-framework.  <a href="#a5699419fd94fe24a39af1d39fa241a20">More...</a><br /></td></tr>
<tr class="separator:a5699419fd94fe24a39af1d39fa241a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf7b9bc26956fa0eeaf83692630de19"><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a0cf7b9bc26956fa0eeaf83692630de19">ARTIFACT_ID_PEPPER_PARENT</a> = &quot;pepper-parentModule&quot;</td></tr>
<tr class="memdesc:a0cf7b9bc26956fa0eeaf83692630de19"><td class="mdescLeft">&#160;</td><td class="mdescRight">this String contains the artifactId of pepper-parentModule.  <a href="#a0cf7b9bc26956fa0eeaf83692630de19">More...</a><br /></td></tr>
<tr class="separator:a0cf7b9bc26956fa0eeaf83692630de19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9948ee860d70b0aed9e546e9425e06c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9948ee860d70b0aed9e546e9425e06c3"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a9948ee860d70b0aed9e546e9425e06c3">KORPLING_MAVEN_REPO</a> = &quot;http://korpling.german.hu-berlin.de/maven2/&quot;</td></tr>
<tr class="memdesc:a9948ee860d70b0aed9e546e9425e06c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">path to korpling maven repo <br /></td></tr>
<tr class="separator:a9948ee860d70b0aed9e546e9425e06c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0dc42f7c2a7cf470fc9c3b9418ea12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c0dc42f7c2a7cf470fc9c3b9418ea12"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a5c0dc42f7c2a7cf470fc9c3b9418ea12">CENTRAL_REPO</a> = &quot;http://central.maven.org/maven2/&quot;</td></tr>
<tr class="memdesc:a5c0dc42f7c2a7cf470fc9c3b9418ea12"><td class="mdescLeft">&#160;</td><td class="mdescRight">path to maven central <br /></td></tr>
<tr class="separator:a5c0dc42f7c2a7cf470fc9c3b9418ea12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa728fecab7fd86f00da0a6e3b0216498"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa728fecab7fd86f00da0a6e3b0216498"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#aa728fecab7fd86f00da0a6e3b0216498">GROUP_ID_PEPPER</a> = &quot;org.corpus_tools.pepper&quot;</td></tr>
<tr class="memdesc:aa728fecab7fd86f00da0a6e3b0216498"><td class="mdescLeft">&#160;</td><td class="mdescRight">group-id of pepper-framework artifact <br /></td></tr>
<tr class="separator:aa728fecab7fd86f00da0a6e3b0216498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a81c395b6eec05217b52223b1eec75c03"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81c395b6eec05217b52223b1eec75c03"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a81c395b6eec05217b52223b1eec75c03">printDependencies</a> (Bundle bundle)</td></tr>
<tr class="memdesc:a81c395b6eec05217b52223b1eec75c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method tries to determine maven project coordinates from a bundle id to invoke <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#aeb131946c7f58c302ac17d727caca45a">printDependencies(String, String, String, String)</a>. <br /></td></tr>
<tr class="separator:a81c395b6eec05217b52223b1eec75c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>How does this class work? One elementary part is the dependency blacklist. </p>
<p>It stores maven artifact strings in this scheme:</p>
<p>groupId:artifactId:extension:version:STATUS</p>
<p>The status can be either FINAL or OVERRIDABLE. FINAL are only dependencies of pepper framework. These dependencies cannot be overriden by newer versions, whilest dependencies with STATUS OVERRIDABLE can. Dependencies of pepper plugins will be OVERRIDABLE, more details follow. *</p>
<p>On the first run of pepper, the dependency blacklist is initialized with all dependencies of pepper-parent (includes dependencies of pepper-framework) with STATUS FINAL, since there is no dependency black list file yet (and it HAS to be like that – another option would be an empty black list file – but the assembly should never be allowed to include blacklist.cfg).</p>
<p>The dependency blacklist itself contains all dependencies, which are not supposed to be installed (e.g. dependencies with scope "provided" and already installed dependencies). When <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a37bb8b60cab99794571e745a23e7dba4" title="This method checks the provided pepper plugin for updates and triggers the installation process if a ...">update()</a> terminates, this list is saved to the blacklist.cfg, which is loaded on every start-up of pepper.</p>
<p>The core functionality of this class is to perform an update for a specified pepper plugin, when <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html#a37bb8b60cab99794571e745a23e7dba4" title="This method checks the provided pepper plugin for updates and triggers the installation process if a ...">update()</a> is called. The update method uses two elementary methods: getAllDependencies() and cleanDependencies(). First of all, getAllDependencies() returns a list of all dependencies of the provided artifact recursively and breadth first. Only dependencies with scope "test" and dependencies found on the blacklist are fully skipped, dependencies with scope "provided" are written to the blacklist (OVERRIDABLE), because another plugin might be interested in installing it. But since another plugin already "knows", that this dependency is provided, there is no need to install it (it can be even dangerous). All Salt dependencies (salt-saltX itself) are dropped itself and their children. Pepper-framework is put on the dependency list, but it's children are dropped. This is necessary to ensure we can determine the pepper version the plugin was developed for. After having collected all dependencies, they have to be cleaned, because we still have dependencies which are provided (but scope="compile") by the system (e.g. OSGi and EMF dependencies). These are actually dependencies of pepper-Parent which are inherited as direct dependencies. To deal with that, cleanDependencies() collects all dependencies of pepper-Parent (version determined with pepper-framework dependency) and strikes them off the list. One little detail: getAllDependencies() is version sensitive. cleanDependencies() doesn't have to be. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa9e296bba56a4bc8fe7dd1ff1f6600b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.corpus_tools.pepper.connectors.impl.MavenAccessor.getBlacklist </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the Blacklist of already installed or forbidden dependencies </dd></dl>

</div>
</div>
<a class="anchor" id="aeb131946c7f58c302ac17d727caca45a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.corpus_tools.pepper.connectors.impl.MavenAccessor.printDependencies </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>artifactId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>repositoryUrl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method starts invokes the computation of the dependency tree. </p>
<p>If no version is provided, the highest version in the specified maven repository is used. If no repository is provided, maven central and the korpling maven repository are used for trial. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5699419fd94fe24a39af1d39fa241a20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String org.corpus_tools.pepper.connectors.impl.MavenAccessor.ARTIFACT_ID_PEPPER_FRAMEWORK = &quot;pepper-framework&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>this String contains the artifactId of pepper-framework. </p>

</div>
</div>
<a class="anchor" id="a0cf7b9bc26956fa0eeaf83692630de19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String org.corpus_tools.pepper.connectors.impl.MavenAccessor.ARTIFACT_ID_PEPPER_PARENT = &quot;pepper-parentModule&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>this String contains the artifactId of pepper-parentModule. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><b>corpus_tools</b></li><li class="navelem"><b>pepper</b></li><li class="navelem"><a class="el" href="namespaceorg_1_1corpus__tools_1_1pepper_1_1connectors.html">connectors</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl.html">impl</a></li><li class="navelem"><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1connectors_1_1impl_1_1_maven_accessor.html">MavenAccessor</a></li>
    <li class="footer">Generated on Wed Jul 19 2017 13:28:07 for Pepper by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
