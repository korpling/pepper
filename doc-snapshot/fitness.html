<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Pepper: Fitness Check</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pepper.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pepper
   &#160;<span id="projectnumber">3.1.0-SNAPSHOT</span>
   </div>
   <div id="projectbrief">A highly extensible plattform for conversion and manipulationoflinguisticdata.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fitness.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Fitness Check </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The fitness check ensures, that a module fits into the Pepper platform. It checks a set of features describing whether a module implements all fields and methods which should be implemented. Some of the features are required (health features) and some are optional (fitness features). When the module does not pass at least one of the health features, the overall module fitness is set to <em>critical</em>. When all health features are passed and at least one fitness is missed, the overall module fitness is <em>healthy</em>. When the module passes all features, the overall status is <em>fit</em>.</p>
<p>To run the fitness check for an installed module run:  pepper&gt;fitness </p>
<h2>Health Features</h2>
<p>The health features are required features and ensure that a module is runnable inside Pepper.</p>
<h3>HAS_NAME</h3>
<p>This health feature indicates whether a module's name is set. When your module fails this check, call the module's super constructor and pass the module's name:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;public MyModule(){</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        super(MODULE_NAME);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        ...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div></div><!-- fragment --><h3>IS_READY_TO_RUN</h3>
<p>This health feature indicates whether a module is runnable on the Pepper platform. To check this, the function <a class="el" href="interfaceorg_1_1corpus__tools_1_1pepper_1_1modules_1_1_pepper_module.html#acf9de2e7613aa063c809d6f1f7ce1b68">org.corpus_tools.pepper.modules.PepperModule.isReadyToStart()</a> is called. When your module fails this check, it means that this method returned false.</p>
<h3>HAS_PASSED_SELFTEST</h3>
<p>When the module provides a self test, this health feature indicates whether the self test was passed. A self test is a test setup to check whether the module is runnable within a Pepper instance (similar to a system integration test). Therefore the module needs to provide a corpus as an input and an expected corpus. The output corpus then is compared to the expected corpus. When your module fails this check, it means that the self test has not been passed. For more information on self tests check section HAS_SELFTEST.</p>
<h3>IS_IMPORTABLE_SEFTEST_DATA</h3>
<p>When the module is an importer, provides a self test and overrides the isImportable() method, this health feature indicates whether the method isImportable() returned 1.0 for the provided input corpus. A self test is a test setup to check whether the module is runnable within a Pepper instance (similar to a system integration test). Therefore the module needs to provide a corpus as an input and an expected corpus. The output corpus then is compared to the expected corpus. When your module fails this check, it means that the self test has not been passed. For more information on self tests check section HAS_SELFTEST.</p>
<h3>IS_VALID_SELFTEST_DATA</h3>
<p>When the module provides a self test, this health feature indicates whether the provided input and expected corpus is valid. A self test is a test setup to check whether the module is runnable within a Pepper instance (similar to a system integration test). Therefore the module needs to provide a corpus as an input and an expected corpus. The output corpus then is compared to the expected corpus. When your module fails this check, it means that the self test has not been passed. For more information on self tests check section HAS_SELFTEST.</p>
<h2>Fitness features</h2>
<p>The fitness features are optional and must not necessarily be passed to run a module in Pepper. But they ensure, that the module implements a kind of a standard and supports information which are helpful to the user.</p>
<h3>HAS_SUPPLIER_CONTACT</h3>
<p>This health feature indicates whether a supplier contact is set. When your module fails this check, call the following method in the mpodule's constructor:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;public MyModule(){</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        ...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        setSupplierContact(URI.createURI(...));</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --><h3>HAS_SUPPLIER_HP</h3>
<p>This health feature indicates whether a supplier homepage is set. When your module fails this check, call the following method in the mpodule's constructor:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;public MyModule(){</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        ...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        setSupplierHomepage(URI.createURI(...));</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --><h3>HAS_DESCRIPTION</h3>
<p>This health feature indicates whether a description for the module is set. When your module fails this check, call the following method in the mpodule's constructor:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;public MyModule(){</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        ...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        setDesc(&quot;A DESCRIPTION DESCRIBUNG THE PURPOSE OF THE MODULE&quot;);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --><h3>HAS_SUPPORTED_FORMATS</h3>
<p>When the module is an importer or an exporter, this fitness feature indicates whether the module provides a list containing the format(s) it supports. When your module fails this check, call the following method in the mpodule's constructor:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;public MyModule(){</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        ...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        this.addSupportedFormat(FORMAT_NAME, FORMAT_VERSION, FORMAT_DESCRIPTION);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --><h3>HAS_SELFTEST</h3>
<p>This fitness feature indicates whether the module provides a self test. A self test is a test setup to check whether the module is runnable within a Pepper instance (similar to a system integration test). Therefore the module needs to provide a corpus as an input and an expected corpus. The output corpus then is compared to the expected corpus. When your module fails thus check, provide an input corpus, an expected corpus and override the following method:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;@Override</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;public SelfTestDesc getSelfTestDesc() {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        return new SelfTestDesc(</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                        getResources().appendSegment(&quot;PATH_TO_INPUT_CORPUS&quot;),</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                        getResources().appendSegment(&quot;PATH_TO_EXPECTED_CORPUS&quot;));</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div></div><!-- fragment --><p>When your module is an importer, the input corpus path should contain a corpus in the format you want to import and the expected corpus path should contain a corpus in Salt format. When your module is a manipulator, the input and the export corpus path corpus should contain a corpus in Salt format. When your module is an exporter, the input corpus path should contain a corpus in the Salt format and the expected corpus path should contain a corpus in the format you want to export.</p>
<p>When the expected and the output corpora are in Salt format, Pepper will use the comparison of Salt modules to check wether they are isomorph. When the expected and the output corpora ar in any other format, Pepper will compare them by file comparison. For XML files the XMLUnit library is used.</p>
<p>To have more control on the comparison check the documentation in <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1core_1_1_self_test_desc.html">org.corpus_tools.pepper.core.SelfTestDesc</a> and override one of the following methods (which depends on your particular case):</p>
<ul>
<li><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1core_1_1_self_test_desc.html#ac14cb8eb2bdb85445edbf564ccfd3961">org.corpus_tools.pepper.core.SelfTestDesc.compare(final SaltProject actualProject, final SaltProject expectedProject)</a></li>
<li><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1core_1_1_self_test_desc.html#a47bb3bba40d7a95a5901a451283e763a">org.corpus_tools.pepper.core.SelfTestDesc.compare(final URI actualCorpusPath, final URI expectedCorpusPath)</a></li>
<li><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1core_1_1_self_test_desc.html#a61bd895562954e0707b08afb64997e66">org.corpus_tools.pepper.core.SelfTestDesc.compare(final File actualFile, final File expectedFile)</a></li>
<li><a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1core_1_1_self_test_desc.html#a0c1c5ca454649f8fdc6c01074cc8e9cb">org.corpus_tools.pepper.core.SelfTestDesc.compareXML(final File actualXmlFile, final File expectedXmlFile)</a></li>
</ul>
<h3>IS_IMPORTABLE</h3>
<p>When the module is an importer, this fitness feature indicates whether the module implements the method <a class="el" href="interfaceorg_1_1corpus__tools_1_1pepper_1_1modules_1_1_pepper_importer.html#ae86a64dfb7f433623d53fdea7128a2d0">org.corpus_tools.pepper.modules.PepperImporter.isImportable(URI corpusPath)</a>. This method is called by Pepper and returns if a corpus is located at the given location is importable by this importer. When your module fails this check, override the isImportable() method. The following is a snippet from the SaltXMLImporter, which determine that corpora which contain Salt files are analyzed as importable.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;public Double isImportable(URI corpusPath) {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        Double retValue = 0.0;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        for (String content : sampleFileContent(corpusPath, &quot;salt&quot;, &quot;xml&quot;)) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                if ((content.contains(&quot;&lt;?xml&quot;)) &amp;&amp; (content.contains(&quot;xmi:version=\&quot;2.0\&quot;&quot;))</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                                &amp;&amp; (content.contains(&quot;salt&quot;))) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                        retValue = 1.0;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;                        break;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                }</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        }</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        return retValue;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="moduleDevelopers.html">Pepper module developers</a></li>
    <li class="footer">Generated on Tue Feb 7 2017 09:35:46 for Pepper by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
