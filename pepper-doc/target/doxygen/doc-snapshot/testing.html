<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Pepper: Testing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pepper
   &#160;<span id="projectnumber">3.0.1-SNAPSHOT</span>
   </div>
   <div id="projectbrief">A highly extensible plattform for conversion and manipulationoflinguisticdatabetweenanunboundsetofformats.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('testing.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Testing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Pepper helps you to write test code faster by providing a test suite skeleton (the three classes <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1test_framework_1_1_pepper_manipulator_test.html">org.corpus_tools.pepper.testFramework.PepperManipulatorTest</a>, <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1test_framework_1_1_pepper_importer_test.html">org.corpus_tools.pepper.testFramework.PepperImporterTest</a> and <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1test_framework_1_1_pepper_exporter_test.html">org.corpus_tools.pepper.testFramework.PepperExporterTest</a>). These classes use the JUnit test framework (see: <a href="junit.org">junit.org</a>) and implement some very basic tests for checking the consistency of a Pepper module. Just benefit from these classes by creating an own test class derived from one of the provided ones and your tests will be ran during the Maven build cycle. For getting an immediate feedback, you can also run them directly in your development environment by running a JUnit task. On the one hand the test classes provide tests which can be adopted to your need and check if your module can be plugged into the Pepper framework (by checking if necessary values are set like the supported format for an im- or exporter). And on the other hand, they provide some helper classes and functions, which can be used when adding further test methods for checking the functionality of your module.</p>
<blockquote class="doxtable">
<p><b>Note</b></p>
<p>We strongly recommend to add some module specific test methods, to increase the quality of your code and even to make it easier changing things and still having a correctly running module.</p>
<p></p>
</blockquote>
<p>To set up the tests for the JUnit framework override the method setUp() as shown in the following snippet: </p>
<pre class="fragment">@Before
protected void setUp() throws Exception {
    //1: setting and initializing of class to test
    this.setFixture(new MyImporterTest);
    //2: adding format information
    this.supportedFormatsCheck.add(new FormatDesc()
        .setFormatName("sample")
        .setFormatVersion("1.0"));
}                
</pre><p>Since the JUnit framework can not know about the classes to test, you need to set and initialize it as shown on position 1. In case you are implementing an im- or exporter, you need to set the supported formats and versions in your test case. Pepper will check them automatically, but the test environment needs to know the correct pairs of format name and version. Replace FORMAT_NAME and FORMAT_VERSION with your specific ones. You can even add more than one <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1common_1_1_format_desc.html">org.corpus_tools.pepper.common.FormatDesc</a> object.</p>
<p>The provided test classes emulate the Pepper environment, so that you can run your entire module and just check the in- or output.</p>
<p>In case that you write an importer, you can create an input file containing a corpus in the format you want to support, run your importer and check its output against a defined template. The test will return a processed Salt model which can be checked for its nodes, relations and so on. The following snippet shows how to read a document and how to check the returned Salt model: </p>
<pre class="fragment">    public void someTest(){
    getFixture().setCorpusDesc(new CorpusDesc().
        setCorpusPath(URI
            .createFileURI(PATH_TO_SAMPLE_CORPUS)));
    getFixture().getCorpusDesc().getFormatDesc()
        .setFormatName(FORMAT_NAME)
        .setFormatVersion(FORMAT_VERSION);

    //...

    //create an empty corpus graph, which is filled by your module 
    SCorpusGraph importedSCorpusGraph= SaltFactory.createSCorpusGraph();
    // add the corpus graph to your module
    this.getFixture().getSaltProject().getCorpusGraphs()
            .add(importedSCorpusGraph);

    //run your Pepper module
    this.start();

    //checks that the corpus graph object 
    //is not empty any more
    assertNotNull(getFixture().getSaltProject()
        .getCorpusGraphs());
    //checks that the corpus graph contains 
    //X SCorpus objects
    assertEquals(X, getFixture().getSaltProject()
        .getCorpusGraphs().get(0).getCorpora().size());
}
</pre><p>More samples for tests can be found in the sample project in the classes <code>SampleImporterTest</code>, <code>SampleManipulatorTest</code> and <code>SampleExporterTest</code>.</p>
<p>For testing an exporter, you may want to use Salt's sample generator (de.hu_berlin.german.korpling.saltnpepper.salt.samples.SampleGenerator). Here you will find a lot of methods creating a sample Salt model with the possibility to just create the layers, you want to use. For more information, take a look into the Salt quick user's guide (see <a href="http://corpus-tools.org/salt/#documentation">http://corpus-tools.org/salt/#documentation</a>).</p>
<p>The class <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1test_framework_1_1_pepper_test_util.html">org.corpus_tools.pepper.testFramework.PepperTestUtil</a> Class Reference provides some very helpful methods like <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1test_framework_1_1_pepper_test_util.html">org.corpus_tools.pepper.testFramework.PepperTestUtil</a> Class Reference.getSrcResources() to get a reference to the resources folder (.../src/main/resources) or the method getTestResources to get a reference to the test resource folder (.../src/test/resources).</p>
<p>When you are implementing an importer and an exporter you may want to make sure that no data is lost, you can orchestrate the im- and the exporter and compare the input files with the output files. In that case implementing the classes PepperImporterTest and PepperExporterTest want do the job, because they assume that you are testing a single module. To load multiple modules in the Pepper test environment, use the method <a class="el" href="classorg_1_1corpus__tools_1_1pepper_1_1test_framework_1_1_pepper_test_util.html#a8459160fba73f5684dcc7d170f80d39a">org.corpus_tools.pepper.testFramework.PepperTestUtil.start</a>(Collection&lt;PepperModule&gt; fixtures) instead and pass your im- and your exporter. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="module_developers.html">Pepper module developers</a></li>
    <li class="footer">Generated on Sun Mar 20 2016 00:32:46 for Pepper by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
